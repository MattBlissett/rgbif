<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Downloading data from GBIF • rgbif</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Downloading data from GBIF">
<meta property="og:description" content="rgbif">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgbif</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.6.1.99</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rgbif.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/downloads.html">Downloading data from GBIF</a>
    </li>
    <li>
      <a href="../articles/gbif_citations.html">Citing GBIF Mediated Data</a>
    </li>
    <li>
      <a href="../articles/issues.html">Cleaning data using GBIF issues</a>
    </li>
    <li>
      <a href="../articles/taxonomic_names.html">Taxonomic names</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/rgbif/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="downloads_files/header-attrs-2.5/header-attrs.js"></script><link href="downloads_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="downloads_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Downloading data from GBIF</h1>
                        <h4 class="author">Scott Chamberlain</h4>
            
            <h4 class="date">2021-06-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rgbif/blob/master/vignettes/downloads.Rmd"><code>vignettes/downloads.Rmd</code></a></small>
      <div class="hidden name"><code>downloads.Rmd</code></div>

    </div>

    
    
<p>GBIF provides two ways to get occurrence data: through the <code>/occurrence/search</code> route (see <code><a href="../reference/occ_search.html">occ_search()</a></code> and <code><a href="../reference/occ_data.html">occ_data()</a></code>), or via the <code>/occurrence/download</code> route (many functions, see below). <code><a href="../reference/occ_search.html">occ_search()</a></code>/<code><a href="../reference/occ_data.html">occ_data()</a></code> are more appropriate for smaller data, while <code>occ_download*()</code> functions are more appropriate for larger data requests. Note that the download service is equivalent to downloading a dataset from the GBIF website - but doing it here makes it reproducible (and easier once you learn the ropes)!</p>
<p>The download functions are:</p>
<ul>
<li>
<code><a href="../reference/occ_download.html">occ_download()</a></code> - Start a download</li>
<li>
<code><a href="../reference/occ_download.html">occ_download_prep()</a></code> - Prepare a download request</li>
<li>
<code><a href="../reference/occ_download_queue.html">occ_download_queue()</a></code> - Start many downloads in a queue</li>
<li>
<code><a href="../reference/occ_download_meta.html">occ_download_meta()</a></code> - Get metadata progress on a single download</li>
<li>
<code><a href="../reference/occ_download_list.html">occ_download_list()</a></code> - List your downloads</li>
<li>
<code><a href="../reference/occ_download_cancel.html">occ_download_cancel()</a></code> - Cancel a download</li>
<li>
<code><a href="../reference/occ_download_cancel.html">occ_download_cancel_staged()</a></code> - Cancels any jobs with status <code>RUNNING</code> or <code>PREPARING</code>
</li>
<li>
<code><a href="../reference/occ_download_get.html">occ_download_get()</a></code> - Retrieve a download</li>
<li>
<code><a href="../reference/occ_download_import.html">occ_download_import()</a></code> - Import a download from local file system</li>
<li>
<code><a href="../reference/occ_download_datasets.html">occ_download_datasets()</a></code> - List datasets for a download</li>
<li>
<code><a href="../reference/occ_download_dataset_activity.html">occ_download_dataset_activity()</a></code> - Lists the downloads activity of a dataset</li>
</ul>
<p>The following functions are the download predicate DSL, used with <code>occ_download</code>, <code><a href="../reference/occ_download.html">occ_download_prep()</a></code>, and <code><a href="../reference/occ_download_queue.html">occ_download_queue()</a></code>.</p>
<p><code>pred*</code> functions are named for the ‘type’ of operation they do, following the terminology used by GBIF, see <a href="https://www.gbif.org/developer/occurrence#predicates" class="uri">https://www.gbif.org/developer/occurrence#predicates</a></p>
<p>Function names are given, with the equivalent GBIF type value (e.g., <code>pred_gt</code> and <code>greaterThan</code>)</p>
<p>The following functions take one key and one value:</p>
<ul>
<li>
<code>pred</code>: equals</li>
<li>
<code>pred_lt</code>: lessThan</li>
<li>
<code>pred_lte</code>: lessThanOrEquals</li>
<li>
<code>pred_gt</code>: greaterThan</li>
<li>
<code>pred_gte</code>: greaterThanOrEquals</li>
<li>
<code>pred_not</code>: not</li>
<li>
<code>pred_like</code>: like</li>
</ul>
<p>The following function is only for geospatial queries, and only accepts a WKT string:</p>
<ul>
<li>
<code>pred_within</code>: within</li>
</ul>
<p>The following function is only for stating the you don’t want a key to be null, so only accepts one key:</p>
<ul>
<li>
<code>pred_notnull</code>: isNotNull</li>
</ul>
<p>The following two functions accept multiple individual predicates, separating them by either “and” or “or”:</p>
<ul>
<li>
<code>pred_and</code>: and</li>
<li>
<code>pred_or</code>: or</li>
</ul>
<p>The following function is special in that it accepts a single key but many values; stating that you want to search for all the values:</p>
<ul>
<li>
<code>pred_in</code>: in</li>
</ul>
<p><code><a href="../reference/occ_download.html">occ_download()</a></code> is the function to start off with when using the GBIF download service. With it you can specify what query you want. Unfortunately, the interfaces to the search vs. download services are different, so we couldn’t make the <code>rgbif</code> interface to <code>occ_search</code>/<code>occ_data</code> the same as <code>occ_download</code>.</p>
<p>Be aware that you can only perform 3 downloads simultaneously, so plan wisely. To help with this limitation, we are working on a queue helper, but it’s not ready yet.</p>
<p>Let’s take a look at how to use the download functions.</p>
<div id="load-rgbif" class="section level2">
<h2 class="hasAnchor">
<a href="#load-rgbif" class="anchor"></a>Load rgbif</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/rgbif">"rgbif"</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="kick-off-a-download" class="section level2">
<h2 class="hasAnchor">
<a href="#kick-off-a-download" class="anchor"></a>Kick off a download</h2>
<p>Instead of passing parameters like <code>taxonkey = 12345</code> in <code>occ_search</code>, for downloads we construct queries using any of the <code>pred</code> functions. This provides for much more complex queries than can be done with <code>occ_search/occ_data</code>. With downloads, you can use operators other than <code>=</code> (equal to); and the queries can be very complex.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ_download.html">occ_download</a></span><span class="op">(</span><span class="fu"><a href="../reference/download_predicate_dsl.html">pred</a></span><span class="op">(</span><span class="st">'taxonKey'</span>, <span class="fl">7264332</span><span class="op">)</span>, <span class="fu"><a href="../reference/download_predicate_dsl.html">pred</a></span><span class="op">(</span><span class="st">'hasCoordinate'</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; &lt;&lt;gbif download&gt;&gt;</span>
<span class="co">#&gt;   Username: sckott</span>
<span class="co">#&gt;   E-mail: myrmecocystus@gmail.com</span>
<span class="co">#&gt;   Download key: 0000796-171109162308116</span></code></pre></div>
<p>What <code>occ_download</code> returns is not the data itself! When you send the request to GBIF, they have to prepare it first, then when it’s done you can download it.</p>
<p>What <code>occ_download</code> returns is some useful metadata that tells you about the download, and helps us check and know when the download is done.</p>
</div>
<div id="check-download-status" class="section level2">
<h2 class="hasAnchor">
<a href="#check-download-status" class="anchor"></a>Check download status</h2>
<p>After running <code>occ_download</code>, we can pass the resulting object to <code>occ_download_meta</code> - with primary goal of checking the download status.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/occ_download_meta.html">occ_download_meta</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>
<span class="co">#&gt; &lt;&lt;gbif download metadata&gt;&gt;</span>
<span class="co">#&gt;   Status: PREPARING</span>
<span class="co">#&gt;   Format: DWCA</span>
<span class="co">#&gt;   Download key: 0000796-171109162308116</span>
<span class="co">#&gt;   Created: 2017-11-10T19:30:32.328+0000</span>
<span class="co">#&gt;   Modified: 2017-11-10T19:30:44.590+0000</span>
<span class="co">#&gt;   Download link: http://api.gbif.org/v1/occurrence/download/request/0000796-171109162308116.zip</span>
<span class="co">#&gt;   Total records: 1425</span>
<span class="co">#&gt;   Request:</span>
<span class="co">#&gt;     type:  and</span>
<span class="co">#&gt;     predicates:</span>
<span class="co">#&gt;       &gt; type: equals, key: TAXON_KEY, value: 7264332</span>
<span class="co">#&gt;       &gt; type: equals, key: HAS_COORDINATE, value: TRUE</span></code></pre></div>
<p>Continue running <code>occ_download_meta</code> until the <code>Status</code> value is <code>SUCCEEDED</code> or <code>KILLED</code>. If it is <code>KILLED</code> that means something went wrong - get in touch with us. If <code>SUCCEEDED</code>, then you can proceed to the next step (downloading the data with <code>occ_download_get</code>).</p>
<p>Before we go to the next step, there’s another function to help you out.</p>
<p>With <code>occ_download_list</code> you can get an overview of all your download requests, with</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ_download_list.html">occ_download_list</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">x</span><span class="op">$</span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">results</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; $meta</span>
<span class="co">#&gt;   offset limit endofrecords count</span>
<span class="co">#&gt; 1      0    20        FALSE   211</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; $results</span>
<span class="co">#&gt; # A tibble: 20 x 18</span>
<span class="co">#&gt;                        key                    doi</span>
<span class="co">#&gt;  *                   &lt;chr&gt;                  &lt;chr&gt;</span>
<span class="co">#&gt;  1 0000796-171109162308116 doi:10.15468/dl.nv3r5p</span>
<span class="co">#&gt;  2 0000739-171109162308116 doi:10.15468/dl.jmachn</span>
<span class="co">#&gt;  3 0000198-171109162308116 doi:10.15468/dl.t5wjpe</span>
<span class="co">#&gt;  4 0000122-171020152545675 doi:10.15468/dl.yghxj7</span>
<span class="co">#&gt;  5 0000119-171020152545675 doi:10.15468/dl.qiowtc</span>
<span class="co">#&gt;  6 0000115-171020152545675 doi:10.15468/dl.tdbkzn</span>
<span class="co">#&gt;  7 0010067-170714134226665 doi:10.15468/dl.ro6qj1</span>
<span class="co">#&gt;  8 0010066-170714134226665 doi:10.15468/dl.bhekhi</span>
<span class="co">#&gt;  9 0010065-170714134226665 doi:10.15468/dl.xy4nfp</span>
<span class="co">#&gt; 10 0010064-170714134226665 doi:10.15468/dl.hsqp84</span>
<span class="co">#&gt; 11 0010062-170714134226665 doi:10.15468/dl.h2apik</span>
<span class="co">#&gt; 12 0010061-170714134226665 doi:10.15468/dl.1srstq</span>
<span class="co">#&gt; 13 0010059-170714134226665 doi:10.15468/dl.2me5hk</span>
<span class="co">#&gt; 14 0010058-170714134226665 doi:10.15468/dl.sjmxvf</span>
<span class="co">#&gt; 15 0010057-170714134226665 doi:10.15468/dl.f28182</span>
<span class="co">#&gt; 16 0010056-170714134226665 doi:10.15468/dl.4t2qim</span>
<span class="co">#&gt; 17 0010055-170714134226665 doi:10.15468/dl.lumz7s</span>
<span class="co">#&gt; 18 0010054-170714134226665 doi:10.15468/dl.wfkgqm</span>
<span class="co">#&gt; 19 0010053-170714134226665 doi:10.15468/dl.fintow</span>
<span class="co">#&gt; 20 0010050-170714134226665 doi:10.15468/dl.a2h9gu</span>
<span class="co">#&gt; # ... with 16 more variables: license &lt;chr&gt;, created &lt;chr&gt;, modified &lt;chr&gt;,</span>
<span class="co">#&gt; #   status &lt;chr&gt;, downloadLink &lt;chr&gt;, size &lt;dbl&gt;, totalRecords &lt;int&gt;,</span>
<span class="co">#&gt; #   numberDatasets &lt;int&gt;, request.creator &lt;chr&gt;, request.format &lt;chr&gt;,</span>
<span class="co">#&gt; #   request.notificationAddresses &lt;list&gt;, request.sendNotification &lt;lgl&gt;,</span>
<span class="co">#&gt; #   request.predicate.type &lt;chr&gt;, request.predicate.predicates &lt;list&gt;,</span>
<span class="co">#&gt; #   request.predicate.key &lt;chr&gt;, request.predicate.value &lt;chr&gt;</span></code></pre></div>
</div>
<div id="canceling-downloads" class="section level2">
<h2 class="hasAnchor">
<a href="#canceling-downloads" class="anchor"></a>Canceling downloads</h2>
<p>If for some reason you need to cancel a download you can do so with <code>occ_download_cancel</code> or <code>occ_download_cancel_staged</code>.</p>
<p><code>occ_download_cancel</code> cancels a job by download key, while <code>occ_download_cancel_staged</code> cancels all jobs in <code>PREPARING</code> or <code>RUNNING</code> stage.</p>
</div>
<div id="fetch-data" class="section level2">
<h2 class="hasAnchor">
<a href="#fetch-data" class="anchor"></a>Fetch data</h2>
<p>After you see the <code>SUCCEEDED</code> status on calling <code>occ_download_meta</code>, you can then download the data using <code>occ_download_get</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ_download_get.html">occ_download_get</a></span><span class="op">(</span><span class="st">"0000796-171109162308116"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; &lt;&lt;gbif downloaded get&gt;&gt;</span>
<span class="co">#&gt;   Path: ./0000796-171109162308116.zip</span>
<span class="co">#&gt;   File size: 0.35 MB</span></code></pre></div>
<p>This only download data to your machine - it does not read it into R. You can now move on to importing into R.</p>
</div>
<div id="import-data-into-r" class="section level2">
<h2 class="hasAnchor">
<a href="#import-data-into-r" class="anchor"></a>Import data into R</h2>
<p>Pass the output of <code>occ_download_get</code> directly to <code>occ_download_import</code> - they can be piped together if you like.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/occ_download_get.html">occ_download_get</a></span><span class="op">(</span><span class="st">"0000796-171109162308116"</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/occ_download_import.html">occ_download_import</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># OR</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/occ_download_get.html">occ_download_get</a></span><span class="op">(</span><span class="st">"0000796-171109162308116"</span><span class="op">)</span>
<span class="fu"><a href="../reference/occ_download_import.html">occ_download_import</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,425 x 235</span>
<span class="co">#&gt;        gbifID abstract accessRights accrualMethod accrualPeriodicity</span>
<span class="co">#&gt;         &lt;int&gt;    &lt;lgl&gt;        &lt;chr&gt;         &lt;lgl&gt;              &lt;lgl&gt;</span>
<span class="co">#&gt;  1 1667184715       NA                         NA                 NA</span>
<span class="co">#&gt;  2 1667182218       NA                         NA                 NA</span>
<span class="co">#&gt;  3 1667179996       NA                         NA                 NA</span>
<span class="co">#&gt;  4 1667179527       NA                         NA                 NA</span>
<span class="co">#&gt;  5 1667171607       NA                         NA                 NA</span>
<span class="co">#&gt;  6 1667165448       NA                         NA                 NA</span>
<span class="co">#&gt;  7 1667163154       NA                         NA                 NA</span>
<span class="co">#&gt;  8 1667162324       NA                         NA                 NA</span>
<span class="co">#&gt;  9 1667162162       NA                         NA                 NA</span>
<span class="co">#&gt; 10 1667161552       NA                         NA                 NA</span>
<span class="co">#&gt; # ... with 1,415 more rows, and 230 more variables: accrualPolicy &lt;lgl&gt;,</span>
<span class="co">#&gt; #   alternative &lt;lgl&gt;, audience &lt;lgl&gt;, available &lt;lgl&gt;,</span>
<span class="co">#&gt; #   bibliographicCitation &lt;lgl&gt;, conformsTo &lt;lgl&gt;, contributor &lt;lgl&gt;,</span>
<span class="co">#&gt; #   coverage &lt;lgl&gt;, created &lt;lgl&gt;, creator &lt;lgl&gt;, date &lt;lgl&gt;,</span>
<span class="co">#&gt; #   dateAccepted &lt;lgl&gt;, dateCopyrighted &lt;lgl&gt;, dateSubmitted &lt;lgl&gt;,</span>
<span class="co">#&gt; #   description &lt;lgl&gt;, educationLevel &lt;lgl&gt;, extent &lt;lgl&gt;, format &lt;lgl&gt;,</span>
<span class="co">#&gt; #   hasFormat &lt;lgl&gt;, hasPart &lt;lgl&gt;, hasVersion &lt;lgl&gt;, identifier &lt;chr&gt;,</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; ... cut for brevity</span></code></pre></div>
</div>
<div id="citing-download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#citing-download-data" class="anchor"></a>Citing download data</h2>
<p>The nice thing about data retrieved via GBIF’s download service is that they provide DOIs for each download, so that you can give a link that resolves to the download with metadata on GBIF’s website. And it makes for a nice citation.</p>
<p>Using the funciton <code>gbif_citaiton</code> we can get citations for our downloads, with the output from <code>occ_download_get</code> or <code>occ_download_meta</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/occ_download_meta.html">occ_download_meta</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gbif_citation.html">gbif_citation</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; $download</span>
<span class="co">#&gt; [1] "GBIF Occurrence Download https://doi.org/10.15468/dl.ohjevv Accessed from R via rgbif (https://github.com/ropensci/rgbif) on 2017-11-10"</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; $datasets</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>You’ll notice that the <code>datasets</code> slot is <code>NULL</code> - because when using <code>occ_download_meta</code>, we don’t yet have any information about which datasets are in the download.</p>
<p>But if you use <code>occ_download_get</code> you then have the individual datasets, and we can get citatations for each idividual dataset in addition to the entire download.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/occ_download_get.html">occ_download_get</a></span><span class="op">(</span><span class="st">"0000796-171109162308116"</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gbif_citation.html">gbif_citation</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; $download</span>
<span class="co">#&gt; [1] "GBIF Occurrence Download https://doi.org/10.15468/dl.nv3r5p Accessed from R via rgbif (https://github.com/ropensci/rgbif) on 2017-11-10"</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; $datasets</span>
<span class="co">#&gt; $datasets[[1]]</span>
<span class="co">#&gt; &lt;&lt;rgbif citation&gt;&gt;</span>
<span class="co">#&gt;    Citation: Office of Environment &amp; Heritage (2017). OEH Atlas of NSW</span>
<span class="co">#&gt;         Wildlife. Occurrence Dataset https://doi.org/10.15468/14jd9g accessed</span>
<span class="co">#&gt;         via GBIF.org on 2017-11-10.. Accessed from R via rgbif</span>
<span class="co">#&gt;         (https://github.com/ropensci/rgbif) on 2017-11-10</span>
<span class="co">#&gt;    Rights: This work is licensed under a Creative Commons Attribution (CC-BY)</span>
<span class="co">#&gt;         4.0 License.</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; $datasets[[2]]</span>
<span class="co">#&gt; &lt;&lt;rgbif citation&gt;&gt;</span>
<span class="co">#&gt;    Citation: Creuwels J (2017). Naturalis Biodiversity Center (NL) - Botany.</span>
<span class="co">#&gt;         Naturalis Biodiversity Center. Occurrence Dataset</span>
<span class="co">#&gt;         https://doi.org/10.15468/ib5ypt accessed via GBIF.org on 2017-11-10..</span>
<span class="co">#&gt;         Accessed from R via rgbif (https://github.com/ropensci/rgbif) on</span>
<span class="co">#&gt;         2017-11-10</span>
<span class="co">#&gt;    Rights: To the extent possible under law, the publisher has waived all</span>
<span class="co">#&gt;         rights to these data and has dedicated them to the Public Domain (CC0</span>
<span class="co">#&gt;         1.0). Users may copy, modify, distribute and use the work, including</span>
<span class="co">#&gt;         for commercial purposes, without restriction.</span>
<span class="co">#&gt;</span>
<span class="co">#&gt; ... cutoff for brevity</span></code></pre></div>
<p>Here, we get the overall citation as well as citations (and data rights) for each dataset.</p>
<p>Please do cite the data you use from GBIF!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Scott Chamberlain, Damiano Oldoni, rOpenSci, John Waller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
