<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Downloads interface — downloads • rgbif</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Downloads interface — downloads" />
<meta property="og:description" content="GBIF provides two ways to get occurrence data: through the
/occurrence/search route (see occ_search()),
or via the /occurrence/download route (many functions, see below).
occ_search() is more appropriate for smaller data, while
occ_download*() functions are more appropriate for larger data requests." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgbif</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.6.1.99</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rgbif.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/downloading_a_long_species_list.html">Downloading A Long Species List</a>
    </li>
    <li>
      <a href="../articles/gbif_citations.html">Citing GBIF Mediated Data</a>
    </li>
    <li>
      <a href="../articles/gbif_credentials.html">Set Up Your GBIF Username and Password</a>
    </li>
    <li>
      <a href="../articles/getting_occurrence_data.html">Getting Occurrence Data From GBIF</a>
    </li>
    <li>
      <a href="../articles/taxonomic_names.html">Working With Taxonomic Names</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/rgbif/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Downloads interface</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/rgbif/blob/master/R/downloads.R'><code>R/downloads.R</code></a></small>
    <div class="hidden name"><code>downloads.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>GBIF provides two ways to get occurrence data: through the
<code>/occurrence/search</code> route (see <code><a href='occ_search.html'>occ_search()</a></code>),
or via the <code>/occurrence/download</code> route (many functions, see below).
<code><a href='occ_search.html'>occ_search()</a></code> is more appropriate for smaller data, while
<code>occ_download*()</code> functions are more appropriate for larger data requests.</p>
    </div>



    <h2 class="hasAnchor" id="settings"><a class="anchor" href="#settings"></a>Settings</h2>

    

<p>You'll use <code><a href='occ_download.html'>occ_download()</a></code> to kick off a download. You'll need to
give that function settings from your GBIF profile: your user name, your
password, and your email. These three settings are required to use the
function. You can specify them in one of three ways:</p><ul>
<li><p>Pass them to <code>occ_download</code> as parameters</p></li>
<li><p>Use R options: As options either in the current R session using
the <code><a href='https://rdrr.io/r/base/options.html'>options()</a></code> function, or by setting them in your <code>.Rprofile</code> file, after
which point they'll be read in automatically</p></li>
<li><p>Use environment variables: As env vars either in the current R session using
the <code><a href='https://rdrr.io/r/base/Sys.setenv.html'>Sys.setenv()</a></code> function, or by setting them in your
<code>.Renviron</code>/<code>.bash_profile</code> or similar files, after which point they'll be read
in automatically</p></li>
</ul>

    <h2 class="hasAnchor" id="beware"><a class="anchor" href="#beware"></a>BEWARE</h2>

    

<p>You can not perform that many downloads, so plan wisely.
See <em>Rate limiting</em> below.</p>
    <h2 class="hasAnchor" id="rate-limiting"><a class="anchor" href="#rate-limiting"></a>Rate limiting</h2>

    

<p>If you try to launch too many downloads, you will receive an 420
"Enhance Your Calm" response. If there is less then 100 in total
across all GBIF users, then you can have 3 running at a time. If
there are more than that, then each user is limited to 1 only.
These numbers are subject to change.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    

<ul>
<li><p><code><a href='occ_download.html'>occ_download()</a></code> - Start a download</p></li>
<li><p><code><a href='occ_download.html'>occ_download_prep()</a></code> - Prepare a download request</p></li>
<li><p><code><a href='occ_download_queue.html'>occ_download_queue()</a></code> - Start many downloads in a queue</p></li>
<li><p><code><a href='occ_download_cached.html'>occ_download_cached()</a></code> - Check for downloads already in your GBIF account</p></li>
<li><p><code><a href='occ_download_wait.html'>occ_download_wait()</a></code> - Re-run <code><a href='occ_download_meta.html'>occ_download_meta()</a></code> until ready</p></li>
<li><p><code><a href='occ_download_meta.html'>occ_download_meta()</a></code> - Get metadata progress on a single download</p></li>
<li><p><code><a href='occ_download_list.html'>occ_download_list()</a></code> - List your downloads</p></li>
<li><p><code><a href='occ_download_cancel.html'>occ_download_cancel()</a></code> - Cancel a download</p></li>
<li><p><code><a href='occ_download_cancel.html'>occ_download_cancel_staged()</a></code> - Cancels any jobs with status <code>RUNNING</code>
or <code>PREPARING</code></p></li>
<li><p><code><a href='occ_download_get.html'>occ_download_get()</a></code> - Retrieve a download</p></li>
<li><p><code><a href='occ_download_import.html'>occ_download_import()</a></code> - Import a download from local file system</p></li>
<li><p><code><a href='occ_download_datasets.html'>occ_download_datasets()</a></code> - List datasets for a download</p></li>
<li><p><code><a href='occ_download_dataset_activity.html'>occ_download_dataset_activity()</a></code> - Lists the downloads activity
of a dataset</p></li>
</ul>

<p>Download query composer methods:</p>
<p>See <a href='download_predicate_dsl.html'>download_predicate_dsl</a></p>
    <h2 class="hasAnchor" id="query-length"><a class="anchor" href="#query-length"></a>Query length</h2>

    

<p>GBIF has a limit of 12,000 characters for a download query. This means
that you can have a pretty long query, but at some point it may lead to an
error on GBIF's side and you'll have to split your query into a few.</p>
    <h2 class="hasAnchor" id="download-status"><a class="anchor" href="#download-status"></a>Download status</h2>

    

<p>The following statuses can be found with any download:</p><ul>
<li><p>PREPARING: just submitted by user and awaiting processing (typically only
a few seconds)</p></li>
<li><p>RUNNING: being created (takes typically 1-15 minutes)</p></li>
<li><p>FAILED: something unexpected went wrong</p></li>
<li><p>KILLED: user decided to abort the job while it was in PREPARING or RUNNING
phase</p></li>
<li><p>SUCCEEDED: The download was created and the user was informed</p></li>
<li><p>FILE_ERASED: The download was deleted according to the retention policy,
see https://www.gbif.org/faq?question=for-how-long-will-does-gbif-store-downloads</p></li>
</ul>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain, Damiano Oldoni, rOpenSci, John Waller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


